{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport Router, { useRouter } from \"next/router\";\nimport { useCookies } from \"react-cookie\";\nimport * as firebase from \"firebase\";\nimport dynamic from \"next/dynamic\";\nlet accessToken;\nlet firebaseToken;\nlet refreshToken;\nlet expiresAt;\n\nlet setTokensFromUrl = async () => {\n  const search = window.location.search.substring(1);\n  const query = JSON.parse('{\"' + decodeURI(search).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\n  let tokens = {\n    accessToken: query.access_token,\n    firebaseToken: query.firebase_token,\n    refreshToken: query.refresh_token,\n    expiresAt: query.expires_at\n  };\n  return tokens;\n};\n\nconst HandleRedirect = () => {\n  const [cookies, setCookie] = useCookies([]);\n  React.useEffect(() => {\n    setTokensFromUrl().then(value => {\n      setCookie(\"access_token\", value.accessToken, {\n        path: \"/\",\n        maxAge: 604800\n      });\n      setCookie(\"firebase_token\", value.firebaseToken, {\n        path: \"/\",\n        maxAge: 604800\n      });\n      setCookie(\"refresh_token\", value.refreshToken, {\n        path: \"/\",\n        maxAge: 604800\n      });\n      setCookie(\"expires_at\", value.expiresAt, {\n        path: \"/\",\n        maxAge: 604800\n      });\n      Router.push(\"/activities\");\n    });\n  }, []);\n  return __jsx(\"div\", null, \"success\");\n};\n\nexport default HandleRedirect;","map":null,"metadata":{},"sourceType":"module"}