{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{\"+lHJ\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(\"o0o1\"),o=n.n(r),c=n(\"HaE+\"),i=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:\"get\",headers:{\"content-type\":\"application/json\",authorization:\"Bearer \"+n}});case 2:return r=e.sent,e.abrupt(\"return\",r);case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},\"1TCz\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AuthContext\",(function(){return w})),n.d(t,\"useAuthState\",(function(){return m}));var r=n(\"ODXe\");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(\"8Kt/\");var c=n(\"nOHt\"),i=(n(\"YFqc\"),n(\"q1tI\")),a=n.n(i),u=(n(\"YuJk\"),n(\"K7M5\"),n(\"krAY\"),n(\"vOnD\")),s=n(\"r5vi\"),l=n(\"Juyh\"),f=n(\"Fkz+\"),h=n(\"eaBa\"),p=(n(\"hrT3\"),n(\"+lHJ\")),d=(n(\"9d8Q\"),n(\"5ShY\"),n(\"iOjB\"),a.a.createElement);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=a.a.createContext();function m(){var e=a.a.useContext(w),t=\"pending\"===e.status,n=\"success\"===e.status,r=(e.user,n);return g(g({},e),{},{isPending:t,isSuccess:n,isAuthenticated:r})}function y(e){var t=e.children,n=Object(s.a)(),o=Object(r.a)(n,2),c=o[0],i=(o[1],a.a.useState({})),u=Object(r.a)(i,2),l=u[0],f=u[1],h=a.a.useState(!0),v=Object(r.a)(h,2),g=(v[0],v[1],Date.now()/1e3),m=c.access_token,y=c.expires_at;c.refresh_token;return a.a.useEffect((function(){f({cookies:c,status:\"pending\"});m&&y>g?Object(p.a)(\"https://www.strava.com/api/v3/athlete\",c.access_token).then((function(e){return e.json()})).then((function(e){f({user:e,status:\"success\",cookies:c})})):f({user:null,status:\"error\",cookies:c})}),[c]),d(w.Provider,{value:l},t)}function b(e){var t=e.Component,n=e.pageProps,r=m(),o=r.isSuccess,i=r.isPending,u=\"/handle_redirect\"==Object(c.useRouter)().route;return a.a.useEffect((function(){console.log(o)}),[o]),o?d(f.default,null,d(t,n)):d(i?O:u?h.default:l.default,null)}var k=u.c.div.withConfig({displayName:\"_app__LoadingScreen\",componentId:\"sc-4kid5d-0\"})([\"position:absolute;top:0;right:0;left:0;bottom:0;display:flex;justify-content:center;align-items:center;p{}\"]);function O(){return d(k,null,d(\"p\",null,\"Loading...\"))}t.default=function(e){var t=e.Component,n=e.pageProps;return d(y,null,d(b,{Component:t,pageProps:n}))}},\"5ShY\":function(e,t,n){},\"9d8Q\":function(e,t,n){},Juyh:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),o=n.n(r),c=n(\"vOnD\"),i=n(\"RT7K\"),a=o.a.createElement,u=c.c.div.withConfig({displayName:\"about__LoginPage\",componentId:\"sc-1iopdz2-0\"})([\"display:grid;position:absolute;width:100vw;height:100vh;\"]),s=c.c.a.withConfig({displayName:\"about__LoginButton\",componentId:\"sc-1iopdz2-1\"})([\"place-self:center;align-self:center;justify-self:center;cursor:pointer;\"]);t.default=function(){return a(u,null,a(s,null,a(\"a\",{href:\"https://strava-auth.herokuapp.com/\"},a(i.b,null))))}},RT7K:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c})),n.d(t,\"c\",(function(){return i})),n.d(t,\"b\",(function(){return a}));var r=n(\"q1tI\"),o=n.n(r).a.createElement,c=function(e){var t,n;return\"dark\"==e.theme?(t=\"white\",n=\"white\"):(t=\"black\",n=\"black\"),o(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},o(\"path\",{d:\"M3 3H10V10H3V3Z\",fill:t,fillOpacity:\"0.4\",stroke:n,strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),o(\"path\",{d:\"M14 3H21V10H14V3Z\",fill:t,fillOpacity:\"0.4\",stroke:n,strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),o(\"path\",{d:\"M14 14H21V21H14V14Z\",fill:t,fillOpacity:\"0.4\",stroke:n,strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),o(\"path\",{d:\"M3 14H10V21H3V14Z\",fill:t,fillOpacity:\"0.4\",stroke:n,strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}))},i=function(e){var t;return e.theme,t=\"#E0BC3E\",o(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},o(\"path\",{d:\"M22 12H18L15 21L9 3L6 12H2\",fill:\"#E0BC3E\",fillOpacity:\"0.4\"}),o(\"path\",{d:\"M22 12H18L15 21L9 3L6 12H2\",stroke:t,strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}))},a=function(e){return o(\"svg\",{width:\"193\",height:\"48\",xmlns:\"http://www.w3.org/2000/svg\"},o(\"g\",{fill:\"none\",fillRule:\"evenodd\"},o(\"rect\",{fill:\"#FC4C02\",x:\"4\",y:\"4\",width:\"185\",height:\"40\",rx:\"2\"}),o(\"path\",{d:\"M27 25.164l1.736.35c-.112 1.101-.513 1.993-1.204 2.674-.69.681-1.582 1.022-2.674 1.022-1.241 0-2.256-.434-3.045-1.302-.789-.868-1.183-2.165-1.183-3.892 0-1.605.413-2.844 1.239-3.717.826-.873 1.818-1.309 2.975-1.309 1.017 0 1.876.32 2.576.959.7.64 1.11 1.482 1.232 2.527l-1.708.266c-.243-1.484-.938-2.226-2.086-2.226-.719 0-1.318.29-1.799.868-.48.579-.721 1.465-.721 2.66 0 1.223.236 2.135.707 2.737.471.602 1.076.903 1.813.903 1.223 0 1.937-.84 2.142-2.52zm6.519 2.604c.55 0 .996-.217 1.337-.651.34-.434.51-1.043.51-1.827s-.17-1.393-.51-1.827a1.62 1.62 0 00-1.337-.651c-.56 0-1.01.215-1.351.644-.34.43-.511 1.04-.511 1.834 0 .803.17 1.416.51 1.841.341.425.792.637 1.352.637zm0 1.442c-.999 0-1.823-.345-2.471-1.036-.649-.69-.973-1.652-.973-2.884 0-1.213.333-2.17 1-2.87.668-.7 1.482-1.05 2.444-1.05.961 0 1.77.35 2.429 1.05.658.7.987 1.657.987 2.87 0 1.232-.32 2.193-.96 2.884-.639.69-1.458 1.036-2.456 1.036zm5.245-.21v-7.42h1.54v.714h.027c.206-.261.49-.48.854-.658a2.589 2.589 0 011.148-.266c.822 0 1.468.245 1.94.735.47.49.706 1.169.706 2.037V29h-1.581v-4.438c0-1.148-.481-1.722-1.443-1.722-.485 0-.872.14-1.161.42-.29.28-.434.658-.434 1.134V29h-1.596zm8.464 0v-7.42h1.54v.714h.028c.206-.261.49-.48.854-.658a2.589 2.589 0 011.148-.266c.822 0 1.468.245 1.94.735.47.49.706 1.169.706 2.037V29h-1.582v-4.438c0-1.148-.48-1.722-1.442-1.722-.485 0-.872.14-1.162.42-.29.28-.434.658-.434 1.134V29h-1.596zm13.393-2.464l1.148.938c-.719 1.157-1.745 1.736-3.08 1.736-1.027 0-1.864-.357-2.513-1.071-.649-.714-.973-1.664-.973-2.849 0-1.185.322-2.135.966-2.849.644-.714 1.46-1.071 2.45-1.071.99 0 1.799.355 2.429 1.064.63.71.945 1.661.945 2.856v.476h-5.18c.019.616.189 1.108.511 1.477s.768.553 1.337.553c.27 0 .513-.037.728-.112.215-.075.404-.187.567-.336.163-.15.287-.28.371-.392.084-.112.182-.252.294-.42zm-3.794-1.974h3.612c-.028-.523-.196-.95-.504-1.281-.308-.331-.747-.497-1.316-.497-.532 0-.957.177-1.274.532-.317.355-.49.77-.518 1.246zm11.503 1.484l1.582.336c-.15.896-.49 1.591-1.022 2.086-.532.495-1.237.742-2.114.742-1.008 0-1.834-.345-2.478-1.036-.644-.69-.966-1.652-.966-2.884 0-1.185.324-2.135.973-2.849.648-.714 1.467-1.071 2.457-1.071.85 0 1.55.254 2.1.763s.872 1.169.966 1.981l-1.498.252c-.159-1.036-.677-1.554-1.554-1.554-.57 0-1.022.217-1.358.651-.336.434-.504 1.043-.504 1.827s.163 1.393.49 1.827c.326.434.784.651 1.372.651.868 0 1.386-.574 1.554-1.722zm3.69.476v-3.57H70.9V21.58h1.162v-1.82h1.513v1.82h1.861v1.372h-1.848v3.402c0 .41.063.698.19.861.126.163.384.245.776.245h.588V29h-.713c-.897 0-1.522-.198-1.877-.595-.354-.397-.532-1.024-.532-1.883zM81.992 29l-1.638-7.42h1.568l1.05 5.166H83l1.764-5.166h1.442l1.652 5.152h.028l1.19-5.152h1.54L88.838 29h-1.54l-1.806-5.572h-.028L83.518 29h-1.526zm10.41 0v-7.42H94V29h-1.596zm-.027-8.638V18.78h1.652v1.582h-1.652zm4.32 6.16v-3.57h-1.12V21.58h1.162v-1.82h1.513v1.82h1.862v1.372h-1.849v3.402c0 .41.063.698.19.861.126.163.384.245.776.245h.588V29h-.713c-.897 0-1.522-.198-1.876-.595-.355-.397-.532-1.024-.532-1.883zM101.87 29V18.78h1.596v3.528h.028c.168-.252.444-.471.826-.658.383-.187.77-.28 1.162-.28.794 0 1.438.243 1.932.728.495.485.742 1.148.742 1.988V29h-1.582v-4.536c0-.485-.13-.877-.392-1.176-.261-.299-.64-.448-1.134-.448-.476 0-.858.14-1.148.42-.29.28-.434.64-.434 1.078V29h-1.596zM160.016 18.724l-2.442 4.97-2.444-4.97h-3.591L157.574 31l6.03-12.276h-3.588zm-19.849 4.34c0-.374-.129-.653-.385-.833-.255-.181-.603-.272-1.04-.272h-1.634v2.261h1.618c.449 0 .801-.1 1.056-.297.256-.199.385-.475.385-.826v-.034zM149.175 18l6.034 12.276h-3.592l-2.442-4.97-2.44 4.97h-6.712l-2.115-3.3h-.8v3.3h-3.747V18.724h5.477c1.004 0 1.828.119 2.474.355.647.237 1.166.56 1.561.966.342.351.598.748.77 1.187.17.44.256.959.256 1.55v.035c0 .847-.198 1.562-.594 2.145-.394.583-.933 1.046-1.617 1.386l1.947 2.93L149.175 18zm16.792 0l-6.032 12.276h3.591l2.44-4.97 2.444 4.97H172L165.967 18zm-43.48 3.99h3.3v8.286h3.747V21.99h3.3v-3.266h-10.346v3.266zm-.134 3.07c.229.408.344.904.344 1.486v.033c0 .605-.117 1.15-.353 1.634a3.472 3.472 0 01-.993 1.23c-.427.335-.946.593-1.554.775-.607.183-1.292.274-2.049.274-1.141 0-2.207-.164-3.195-.487-.987-.326-1.838-.813-2.553-1.46l2.001-2.458a5.9 5.9 0 001.921 1.038c.673.21 1.34.314 2.002.314.343 0 .587-.044.737-.131.15-.089.224-.21.224-.363v-.033c0-.167-.11-.306-.328-.414-.218-.11-.628-.225-1.226-.345a20.64 20.64 0 01-1.8-.464 6.1 6.1 0 01-1.505-.676 3.215 3.215 0 01-1.034-1.04c-.256-.419-.384-.93-.384-1.535v-.033c0-.551.104-1.063.312-1.536.207-.473.512-.886.912-1.237.4-.352.898-.627 1.491-.826.59-.198 1.272-.297 2.041-.297 1.088 0 2.04.132 2.858.397.816.262 1.55.659 2.202 1.187l-1.825 2.608a5.55 5.55 0 00-1.69-.868 5.717 5.717 0 00-1.673-.273c-.277 0-.483.044-.616.133a.395.395 0 00-.2.346v.033c0 .155.1.287.304.398.203.11.598.225 1.184.346.716.131 1.366.291 1.955.477.586.19 1.092.427 1.512.72.422.291.749.64.978 1.048z\",fill:\"#FFF\"})))}},YFqc:function(e,t,n){e.exports=n(\"cTJO\")},cTJO:function(e,t,n){\"use strict\";var r=n(\"J4zp\"),o=n(\"284h\");t.__esModule=!0,t.default=void 0;var c,i=o(n(\"q1tI\")),a=n(\"elyg\"),u=n(\"nOHt\"),s=new Map,l=window.IntersectionObserver,f={};var h=function(e,t){var n=c||(l?c=new l((function(e){e.forEach((function(e){if(s.has(e.target)){var t=s.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(c.unobserve(e.target),s.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0);return n?(n.observe(e),s.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}s.delete(e)}):function(){}};function p(e,t,n,r){(0,a.isLocalURL)(t)&&(e.prefetch(t,n,r).catch((function(e){0})),f[t+\"%\"+n]=!0)}var d=function(e){var t=!1!==e.prefetch,n=i.default.useState(),o=r(n,2),c=o[0],s=o[1],d=(0,u.useRouter)(),v=d&&d.pathname||\"/\",g=i.default.useMemo((function(){var t=(0,a.resolveHref)(v,e.href,!0),n=r(t,2),o=n[0],c=n[1];return{href:o,as:e.as?(0,a.resolveHref)(v,e.as):c||o}}),[v,e.href,e.as]),w=g.href,m=g.as;i.default.useEffect((function(){if(t&&l&&c&&c.tagName&&(0,a.isLocalURL)(w)&&!f[w+\"%\"+m])return h(c,(function(){p(d,w,m)}))}),[t,c,w,m,d]);var y=e.children,b=e.replace,k=e.shallow,O=e.scroll;\"string\"===typeof y&&(y=i.default.createElement(\"a\",null,y));var L=i.Children.only(y),j={ref:function(e){e&&s(e),L&&\"object\"===typeof L&&L.ref&&(\"function\"===typeof L.ref?L.ref(e):\"object\"===typeof L.ref&&(L.ref.current=e))},onClick:function(e){L.props&&\"function\"===typeof L.props.onClick&&L.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,c,i){(\"A\"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&\"_self\"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,a.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=r.indexOf(\"#\")<0),t[o?\"replace\":\"push\"](n,r,{shallow:c}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}(e,d,w,m,b,k,O)}};return t&&(j.onMouseEnter=function(e){(0,a.isLocalURL)(w)&&(L.props&&\"function\"===typeof L.props.onMouseEnter&&L.props.onMouseEnter(e),p(d,w,m,{priority:!0}))}),(e.passHref||\"a\"===L.type&&!(\"href\"in L.props))&&(j.href=(0,a.addBasePath)((0,a.addLocale)(m,d&&d.locale,d&&d.defaultLocale))),i.default.cloneElement(L,j)};t.default=d},iOjB:function(e,t,n){}}]);","extractedComments":[]}