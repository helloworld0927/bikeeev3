_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{Joak:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));var a=i("vOnD"),n=a.c.div.withConfig({displayName:"container__Container",componentId:"sc-14pe9s-0"})(["background-color:",";padding:",";padding-top:0;position:relative;grid-column-start:2;grid-column-end:3;grid-row-start:2;grid-row-end:3;grid-column-gap:",";display:grid;grid-template-columns:200px 1fr;@media (max-width:","){display:grid;min-width:auto;width:100%;grid-row-gap:",";grid-template-rows:60px 1fr;grid-template-columns:1fr;grid-column-start:1;grid-column-end:4;padding:",";padding-top:0;}"],(function(e){return e.theme.colors.background}),(function(e){return e.theme.tokens.spacing.XL.value}),(function(e){return e.theme.tokens.spacing.XL.value}),(function(e){return e.theme.tokens.mediaQueries.small}),(function(e){return e.theme.tokens.spacing.XL.value}),(function(e){return e.theme.tokens.spacing.L.value})),r=(a.c.div.withConfig({displayName:"container__ContainerNoSubNav",componentId:"sc-14pe9s-1"})(["background-color:",";padding:",";padding-top:0;position:relative;grid-column-start:2;grid-column-end:3;grid-row-start:2;grid-row-end:3;grid-column-gap:",";display:grid;grid-template-columns:1fr;@media (max-width:","){display:grid;min-width:auto;width:100%;grid-row-gap:",";grid-template-rows:60px 1fr;grid-template-columns:1fr;grid-column-start:1;grid-column-end:4;padding:",";padding-top:0;}"],(function(e){return e.theme.colors.background}),(function(e){return e.theme.tokens.spacing.XXL.value}),(function(e){return e.theme.tokens.spacing.XXL.value}),(function(e){return e.theme.tokens.mediaQueries.small}),(function(e){return e.theme.tokens.spacing.XL.value}),(function(e){return e.theme.tokens.spacing.L.value})),a.c.div.withConfig({displayName:"container__ContainerActivityDetail",componentId:"sc-14pe9s-2"})(["position:relative;grid-column-start:1;grid-column-end:3;grid-row-start:1;grid-row-end:3;z-index:1;padding:0;grid-column-gap:0;display:grid;grid-template-columns:minmax(500px,600px) 1fr;@media (max-width:","){display:grid;min-width:auto;width:100%;grid-row-gap:",";grid-template-rows:60px 1fr;grid-template-columns:1fr;grid-column-start:1;grid-column-end:4;padding:0;}"],(function(e){return e.theme.tokens.mediaQueries.small}),(function(e){return e.theme.tokens.spacing.XL.value})))},RNiq:function(e,t,i){"use strict";i.r(t);var a,n=i("ODXe"),r=i("Nhyb"),o=i("vcXL"),l=i.n(o),s=i("q1tI"),c=i.n(s),u=i("ZMKu"),d=i("vOnD"),m=i("XGo5"),p=i("1TCz"),g=i("nOHt"),f=i.n(g),h=i("lyqB"),y=i("Joak"),v=i("ekCi"),w=i("/9aP"),x=i("YFqc"),C=i.n(x),b=i("a3/r"),k=c.a.createElement,_=d.c.div.withConfig({displayName:"pages__ActivitiesGrid",componentId:"sc-38y5yx-0"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));grid-gap:",";@media (max-width:","){grid-template-columns:1fr;}"],(function(e){return e.theme.tokens.spacing.L.value}),(function(e){return e.theme.tokens.mediaQueries.small}));t.default=function(e){var t=Object(g.useRouter)().query.page,i=e.auth,o=c.a.useContext(p.AuthContext),s=o.cookies;console.log(i,s);var x=c.a.useState([]),q=Object(n.a)(x,2),N=q[0],I=q[1],L=c.a.useState(!0),M=Object(n.a)(L,2),X=M[0],E=M[1],O=c.a.useState(1),D=Object(n.a)(O,2),S=(D[0],D[1],c.a.useState("")),j=Object(n.a)(S,2),A=j[0],R=j[1],Q=c.a.useState(""),T=Object(n.a)(Q,2),B=T[0],Y=T[1],z=c.a.useState(!0),F=Object(n.a)(z,2),H=F[0],P=F[1],G=(Date.now(),o.cookies.access_token);c.a.useEffect((function(){E(!0),s.access_token?(t?(a="https://www.strava.com/api/v3/athlete/activities?per_page=30&page="+t,R("/activities?page="+(Number(t)+1)),P(!1),t>=2?Y("/activities?page="+(Number(t)-1)):1==t&&(Y("/activities"),P(!0))):(a="https://www.strava.com/api/v3/athlete/activities?per_page=30&page=1",R("/activities?page=2"),P(!0)),l()(a,{method:"get",headers:{"content-type":"application/json",authorization:"Bearer "+G}}).then((function(e){return e.json()})).then((function(e){console.log("ACTIVITIES: data fetched"),I(e),E(!1)}))):(console.log("ACTIVITIES: No Auth"),f.a.push("/"))}),[i,t]);var J={show:{y:0,opacity:1,scale:1,rotateX:0,transition:{type:"spring",stiffness:800,damping:40}},hide:{y:70,opacity:0,scale:.9,rotateX:-45}},V=d.c.div.withConfig({displayName:"pages__ActivitiesPaginator",componentId:"sc-38y5yx-1"})(["margin-top:",";margin-bottom:",";text-align:center;display:flex;justify-content:flex-start;a{flex-grow:50%;&:first-of-type{padding-right:",";}}"],(function(e){return e.theme.tokens.spacing.L.value}),(function(e){return e.theme.tokens.spacing.L.value}),(function(e){return e.theme.tokens.spacing.S.value}));return k(r.a,{props:e},k(y.a,null,k(w.a,null),k("div",null,k(v.a,null,"All Activities"),X?k(u.b.div,{exit:{opacity:0}},k(h.a,null)):k(u.a,null,k(u.b.div,{exit:{opacity:0},initial:"hide",variants:{show:{opacity:1,transition:{staggerChildren:.05}},hide:{opacity:0}},animate:"show"},k(_,null,N.map((function(t){return k(u.b.div,{key:t.id,variants:J,initial:"hide",exit:{opacity:0}},k(m.a,{activity:t,user:e.user}))}))),k(V,null,H?"":k(C.a,{href:B,as:B},k("a",null,k(b.a,{label:"\u2190 Previous page"}))),k(C.a,{href:A,as:A},k("a",null,k(b.a,{label:"Next page \u2192"})))))))))}},XGo5:function(e,t,i){"use strict";var a=i("q1tI"),n=i.n(a),r=i("YFqc"),o=i.n(r),l=i("vOnD"),s=i("krAY"),c=i.n(s),u=n.a.createElement,d="AIzaSyAsyxYCjxLqi49yGUuqUJRa4cYN8V4VyLE",m=(l.c.div.withConfig({displayName:"map__Map",componentId:"osh4sg-0"})(["width:190px;height:190px;flex-shrink:0;background:#74ccef;opacity:0.5;@media (max-width:","){width:50px;height:50px;border-radius:",";}"],(function(e){return e.theme.tokens.mediaQueries.small}),(function(e){return e.theme.tokens.borderRadius.value})),l.c.div.withConfig({displayName:"map__MapImageLarge",componentId:"osh4sg-1"})(["width:190px;height:190px;display:block;@media (max-width:","){display:none;}"],(function(e){return e.theme.tokens.mediaQueries.small}))),p=l.c.div.withConfig({displayName:"map__MapImageSmall",componentId:"osh4sg-2"})(["width:50px;height:50px;display:none;border-radius:",";overflow:hidden;@media (max-width:","){display:block;}"],(function(e){return e.theme.tokens.borderRadius.value}),(function(e){return e.theme.tokens.mediaQueries.small})),g=function(e){var t;t=c()("(prefers-color-scheme: dark)")?"&format=png&maptype=roadmap&style=element:geometry%7Ccolor:0x212121&style=element:labels.icon%7Cvisibility:off&style=element:labels.text.fill%7Ccolor:0x757575&style=element:labels.text.stroke%7Ccolor:0x212121&style=feature:administrative%7Celement:geometry%7Ccolor:0x757575&style=feature:administrative.country%7Celement:labels.text.fill%7Ccolor:0x9e9e9e&style=feature:administrative.land_parcel%7Celement:labels%7Cvisibility:off&style=feature:administrative.locality%7Celement:labels.text.fill%7Ccolor:0xbdbdbd&style=feature:poi%7Celement:labels.text%7Cvisibility:off&style=feature:poi%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:poi.business%7Cvisibility:off&style=feature:poi.park%7Celement:geometry%7Ccolor:0x181818&style=feature:poi.park%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:poi.park%7Celement:labels.text.stroke%7Ccolor:0x1b1b1b&style=feature:road%7Celement:geometry.fill%7Ccolor:0x2c2c2c&style=feature:road%7Celement:labels.icon%7Cvisibility:off&style=feature:road%7Celement:labels.text.fill%7Ccolor:0x8a8a8a&style=feature:road.arterial%7Cvisibility:off&style=feature:road.arterial%7Celement:geometry%7Ccolor:0x373737&style=feature:road.highway%7Celement:geometry%7Ccolor:0x3c3c3c&style=feature:road.highway%7Celement:labels%7Cvisibility:off&style=feature:road.highway.controlled_access%7Celement:geometry%7Ccolor:0x4e4e4e&style=feature:road.local%7Cvisibility:off&style=feature:road.local%7Celement:labels%7Cvisibility:off&style=feature:road.local%7Celement:labels.text.fill%7Ccolor:0x616161&style=feature:transit%7Cvisibility:off&style=feature:transit%7Celement:labels.text.fill%7Ccolor:0x757575&style=feature:water%7Celement:geometry%7Ccolor:0x000000&style=feature:water%7Celement:labels.text.fill%7Ccolor:0x3d3d3d&size=":"&format=png&maptype=roadmap&style=feature:water%7Celement:geometry.fill%7Ccolor:0x75cff0&size=";var i="https://maps.googleapis.com/maps/api/staticmap?key="+d+"&path=weight:4%7Ccolor:0x3B8BFFff%7Cenc:"+e.polyline+t+"100x100",a="https://maps.googleapis.com/maps/api/staticmap?key="+d+"&path=weight:4%7Ccolor:0x3B8BFFff%7Cenc:"+e.polyline+t+"380x380";return"map"==e.type?u("div",null,u(m,null,u("img",{src:a,style:{width:"100%"},alt:""})),u(p,null,u("img",{src:i,style:{width:"100%"},alt:""}))):u("div",null,u(m,null,u("div",{style:{width:"100%"},alt:""})),u(p,null,u("div",{style:{width:"100%"},alt:""})))},f=i("wd/R"),h=i.n(f),y=i("ZMKu"),v=i("E+xx"),w=i("1TCz"),x=n.a.createElement,C=Object(l.c)(y.b.div).withConfig({displayName:"activity-card__Card",componentId:"qtqpkq-0"})(["background:",";height:190px;cursor:pointer;padding:0;border-radius:",";width:100%;display:grid;overflow:hidden;grid-template-rows:1fr 1fr;grid-template-columns:190px 1fr;@media (max-width:","){padding:",";grid-template-columns:50px 1fr;grid-template-rows:1fr auto;height:auto;}"],(function(e){return e.theme.colors.cardBackground}),(function(e){return e.theme.tokens.borderRadius.value}),(function(e){return e.theme.tokens.mediaQueries.small}),(function(e){return e.theme.tokens.spacing.M.value})),b=l.c.div.withConfig({displayName:"activity-card__CardMeta",componentId:"qtqpkq-1"})(["padding:",";display:grid;grid-template-rows:minMax(auto,100px) 1fr;width:100%;@media (max-width:","){padding:0;padding-left:",";grid-template-rows:auto;}"],(function(e){return e.theme.tokens.spacing.M.value}),(function(e){return e.theme.tokens.mediaQueries.small}),(function(e){return e.theme.tokens.spacing.L.value})),k=l.c.div.withConfig({displayName:"activity-card__MetaGroup",componentId:"qtqpkq-2"})(["display:flex;flex-direction:column;@media (max-width:","){margin-right:",";}"],(function(e){return e.theme.tokens.mediaQueries.small}),(function(e){return e.theme.tokens.spacing.L.value})),_=l.c.p.withConfig({displayName:"activity-card__MetaHeader",componentId:"qtqpkq-3"})(["margin-top:0;margin-bottom:3px;"]),q=l.c.p.withConfig({displayName:"activity-card__MetaDescription",componentId:"qtqpkq-4"})(["opacity:0.5;margin:0;"]),N=l.c.div.withConfig({displayName:"activity-card__MetaRowLarge",componentId:"qtqpkq-5"})(["display:grid;grid-template-columns:1fr 1fr 1fr;align-items:end;grid-column-gap:",";@media (max-width:","){display:none;}"],(function(e){return e.theme.tokens.spacing.M.value}),(function(e){return e.theme.tokens.mediaQueries.small})),I=l.c.div.withConfig({displayName:"activity-card__MetaRowSmall",componentId:"qtqpkq-6"})(["display:none;padding-top:",";@media (max-width:","){display:flex;}"],(function(e){return e.theme.tokens.spacing.L.value}),(function(e){return e.theme.tokens.mediaQueries.small}));t.a=function(e){var t=e.activity,i=Object(w.useAuthState)().user;function a(e,t){var i=+e+(void 0===t?.5:t/2);return i-i%(void 0===t?1:+t)}var n=h()(t.start_date_local).format("MMM Do YYYY [at] h:mm a"),r=a(t.distance/1e3,.5),l=a(t.distance/1e3*.621371,.5),s="meters"==i.measurement_preference?r:l,c="meters"==i.measurement_preference?"km":"mi",u=a(t.total_elevation_gain,.5),d=a(3.28084*t.total_elevation_gain,.5),m="meters"==i.measurement_preference?u:d,p="meters"==i.measurement_preference?"m":"ft",f=h.a.duration(t.moving_time,"seconds"),y=f.get("hours"),L=f.get("minutes"),M=f.get("seconds");return x(o.a,{href:"/activities/[activity]",as:"/activities/".concat(t.id)},x(C,{whileHover:v.a,whileTap:v.b},x(g,{type:t.start_latlng?"map":"nomap",polyline:t.map.summary_polyline}),x(b,null,x(k,null,x(_,null,t.name),x(q,null,n)),x(N,null,x(k,null,x(_,null,s," ",c),x(q,null,"Distance")),x(k,null,x(_,null,y,":",L,":",M),x(q,null,"Duration")),x(k,null,x(_,null,m," ",p),x(q,null,"Elevation")))),x(I,null,x(k,null,x(_,null,r," km"),x(q,null,"Distance")),x(k,null,x(_,null,y,":",L,":",M),x(q,null,"Duration")),x(k,null,x(_,null,u," km"),x(q,null,"Elevation")))))}},"a3/r":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a=i("q1tI"),n=i.n(a),r=i("vOnD"),o=i("ZMKu"),l=i("E+xx"),s=n.a.createElement,c=Object(r.c)(o.b.div).withConfig({displayName:"button__StyledButton",componentId:"sc-1gbe4ci-0"})(["padding:"," ",";font-weight:600;background:","};display:inline-block;border-radius:",";color:","};text-transform:uppercase;cursor:pointer;p{margin:0;}"],(function(e){return e.theme.tokens.spacing.M.value}),(function(e){return e.theme.tokens.spacing.L.value}),(function(e){return e.theme.colors.buttonBackground}),(function(e){return e.theme.tokens.borderRadius.value}),(function(e){return e.theme.colors.buttonLabel})),u=function(e){var t;return e.onClick&&(t=function(){e.onClick()}),s(c,{onClick:t,whileTap:l.b,whileHover:l.a},s("p",null,e.label))}},ekCi:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var a=i("vOnD").c.h3.withConfig({displayName:"pageHeader__PageHeader",componentId:"soh6x7-0"})(["margin-top:0;margin-bottom:",";"],(function(e){return e.theme.tokens.spacing.L.value}))},vcXL:function(e,t,i){"use strict";var a=self.fetch.bind(self);e.exports=a,e.exports.default=e.exports},vlRD:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i("RNiq")}])}},[["vlRD",0,1,4,6,5,10,12,2,3,7,8,9,11,13]]]);